<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>lecture0</title><script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    jax: ["input/TeX","output/HTML-CSS"],
    extensions: ["[a11y]/accessibility-menu.js"],
    'HTML-CSS': {
      availableFonts: [],
      webFont: 'TeX',
      undefinedFamily: "serif",
      mtextFontInherit: true,
    },
    TeX: {
  "Macros": {},
  "equationNumbers": {},
  "extensions": [
    "AMSmath.js",
    "AMSsymbols.js",
    "noErrors.js",
    "noUndefined.js"
  ]
},
    showMathMenu: true
  });
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js"></script>
    <style>.emoji {
  max-width: 1em !important;
}
del {
  text-decoration: none;
  position: relative;
}
del::after {
  border-bottom: 1px solid black;
  content: '';
  left: 0;
  position: absolute;
  right: 0;
  top: 50%;
}
ul.contains-task-list li.task-list-item {
  position: relative;
  list-style-type: none;
}
ul.contains-task-list li.task-list-item input.task-list-item-checkbox {
  position: absolute;
  transform: translateX(-100%);
  width: 30px;
}
span.critic.comment {
  position: relative;
}
span.critic.comment::before {
  content: '\1f4ac';
  position: initial;
}
span.critic.comment > span {
  display: none;
}
span.critic.comment:hover > span {
  display: initial;
  position: absolute;
  top: 100%;
  left: 0;
  border: 1px solid;
  border-radius: 5px;
  max-height: 4em;
  overflow: auto;
}
span.critic.comment:focus > span {
  display: initial;
  text-decoration: underline;
  position: initial;
  top: auto;
  left: auto;
  border: initial;
  border-radius: initial;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
  background-color: transparent;
}

body {
  overflow: initial !important;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  line-height: 1.6;
  word-wrap: break-word;
  padding: 30px;
  font-size: 16px;
  color: #333;
  background-color: #fff;
}
body > *:first-child {
  margin-top: 0 !important;
}
body > *:last-child {
  margin-bottom: 0 !important;
}
body a:not([href]) {
  color: inherit;
  text-decoration: none;
}
body .absent {
  color: #c00;
}
body .anchor {
  position: absolute;
  top: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}
body .anchor:focus {
  outline: none;
}
body h1,
body h2,
body h3,
body h4,
body h5,
body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}
body h1 .octicon-link,
body h2 .octicon-link,
body h3 .octicon-link,
body h4 .octicon-link,
body h5 .octicon-link,
body h6 .octicon-link {
  display: none;
  color: #000;
  vertical-align: middle;
}
body h1:hover .anchor,
body h2:hover .anchor,
body h3:hover .anchor,
body h4:hover .anchor,
body h5:hover .anchor,
body h6:hover .anchor {
  padding-left: 8px;
  margin-left: -30px;
  text-decoration: none;
}
body h1:hover .anchor .octicon-link,
body h2:hover .anchor .octicon-link,
body h3:hover .anchor .octicon-link,
body h4:hover .anchor .octicon-link,
body h5:hover .anchor .octicon-link,
body h6:hover .anchor .octicon-link {
  display: inline-block;
}
body h1 tt,
body h2 tt,
body h3 tt,
body h4 tt,
body h5 tt,
body h6 tt,
body h1 code,
body h2 code,
body h3 code,
body h4 code,
body h5 code,
body h6 code {
  font-size: inherit;
}
body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}
body h1 .anchor {
  line-height: 1;
}
body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}
body h2 .anchor {
  line-height: 1;
}
body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}
body h3 .anchor {
  line-height: 1.2;
}
body h4 {
  font-size: 1.25em;
}
body h4 .anchor {
  line-height: 1.2;
}
body h5 {
  font-size: 1em;
}
body h5 .anchor {
  line-height: 1.1;
}
body h6 {
  font-size: 1em;
  color: #777;
}
body h6 .anchor {
  line-height: 1.1;
}
body p,
body blockquote,
body ul,
body ol,
body dl,
body table,
body pre {
  margin-top: 0;
  margin-bottom: 16px;
}
body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}
body ul,
body ol {
  padding-left: 2em;
}
body ul.no-list,
body ol.no-list {
  padding: 0;
  list-style-type: none;
}
body ul ul,
body ul ol,
body ol ol,
body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}
body li > p {
  margin-top: 16px;
}
body dl {
  padding: 0;
}
body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}
body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}
body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}
body blockquote > :first-child {
  margin-top: 0;
}
body blockquote > :last-child {
  margin-bottom: 0;
}
body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}
body table th {
  font-weight: bold;
}
body table th,
body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}
body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}
body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}
body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
body .emoji {
  max-width: none;
}
body span.frame {
  display: block;
  overflow: hidden;
}
body span.frame > span {
  display: block;
  float: left;
  width: auto;
  padding: 7px;
  margin: 13px 0 0;
  overflow: hidden;
  border: 1px solid #ddd;
}
body span.frame span img {
  display: block;
  float: left;
}
body span.frame span span {
  display: block;
  padding: 5px 0 0;
  clear: both;
  color: #333;
}
body span.align-center {
  display: block;
  overflow: hidden;
  clear: both;
}
body span.align-center > span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: center;
}
body span.align-center span img {
  margin: 0 auto;
  text-align: center;
}
body span.align-right {
  display: block;
  overflow: hidden;
  clear: both;
}
body span.align-right > span {
  display: block;
  margin: 13px 0 0;
  overflow: hidden;
  text-align: right;
}
body span.align-right span img {
  margin: 0;
  text-align: right;
}
body span.float-left {
  display: block;
  float: left;
  margin-right: 13px;
  overflow: hidden;
}
body span.float-left span {
  margin: 13px 0 0;
}
body span.float-right {
  display: block;
  float: right;
  margin-left: 13px;
  overflow: hidden;
}
body span.float-right > span {
  display: block;
  margin: 13px auto 0;
  overflow: hidden;
  text-align: right;
}
body code,
body tt {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0, 0, 0, 0.04);
  border-radius: 3px;
}
body code:before,
body tt:before,
body code:after,
body tt:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}
body code br,
body tt br {
  display: none;
}
body del code {
  text-decoration: inherit;
}
body pre > code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}
body .highlight {
  margin-bottom: 16px;
}
body .highlight pre,
body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}
body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}
body pre {
  word-wrap: normal;
}
body pre code,
body pre tt {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}
body pre code:before,
body pre tt:before,
body pre code:after,
body pre tt:after {
  content: normal;
}
body kbd {
  display: inline-block;
  padding: 3px 5px;
  font-size: 11px;
  line-height: 10px;
  color: #555;
  vertical-align: middle;
  background-color: #fcfcfc;
  border: solid 1px #ccc;
  border-bottom-color: #bbb;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #bbb;
}
span.critic.comment > span {
  background-color: #fff;
}
a {
  color: #337ab7;
}

pre.editor-colors {
  background-color: #282c34;
  color: #abb2bf;
}
pre.editor-colors .line.cursor-line {
  background-color: rgba(153, 187, 255, 0.04);
}
pre.editor-colors .invisible {
  color: #abb2bf;
}
pre.editor-colors .cursor {
  border-left: 2px solid #528bff;
}
pre.editor-colors .selection .region {
  background-color: #3e4451;
}
pre.editor-colors .bracket-matcher .region {
  border-bottom: 1px solid #528bff;
  box-sizing: border-box;
}
pre.editor-colors .invisible-character {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .indent-guide {
  color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .wrap-guide {
  background-color: rgba(171, 178, 191, 0.15);
}
pre.editor-colors .find-result .region.region.region,
pre.editor-colors .current-result .region.region.region {
  border-radius: 2px;
  background-color: rgba(82, 139, 255, 0.24);
  transition: border-color 0.4s;
}
pre.editor-colors .find-result .region.region.region {
  border: 2px solid transparent;
}
pre.editor-colors .current-result .region.region.region {
  border: 2px solid #528bff;
  transition-duration: .1s;
}
pre.editor-colors .gutter .line-number {
  color: #636d83;
  -webkit-font-smoothing: antialiased;
}
pre.editor-colors .gutter .line-number.cursor-line {
  color: #abb2bf;
  background-color: #3a3f4b;
}
pre.editor-colors .gutter .line-number.cursor-line-no-selection {
  background-color: transparent;
}
pre.editor-colors .gutter .line-number .icon-right {
  color: #abb2bf;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed.git-line-removed::before {
  bottom: -3px;
}
pre.editor-colors .gutter:not(.git-diff-icon) .line-number.git-line-removed::after {
  content: "";
  position: absolute;
  left: 0px;
  bottom: 0px;
  width: 25px;
  border-bottom: 1px dotted rgba(224, 82, 82, 0.5);
  pointer-events: none;
}
pre.editor-colors .gutter .line-number.folded,
pre.editor-colors .gutter .line-number:after,
pre.editor-colors .fold-marker:after {
  color: #abb2bf;
}
.syntax--comment {
  color: #5c6370;
  font-style: italic;
}
.syntax--comment .syntax--markup.syntax--link {
  color: #5c6370;
}
.syntax--entity.syntax--name.syntax--type {
  color: #e5c07b;
}
.syntax--entity.syntax--other.syntax--inherited-class {
  color: #98c379;
}
.syntax--keyword {
  color: #c678dd;
}
.syntax--keyword.syntax--control {
  color: #c678dd;
}
.syntax--keyword.syntax--operator {
  color: #abb2bf;
}
.syntax--keyword.syntax--other.syntax--special-method {
  color: #61afef;
}
.syntax--keyword.syntax--other.syntax--unit {
  color: #d19a66;
}
.syntax--storage {
  color: #c678dd;
}
.syntax--storage.syntax--type.syntax--annotation,
.syntax--storage.syntax--type.syntax--primitive {
  color: #c678dd;
}
.syntax--storage.syntax--modifier.syntax--package,
.syntax--storage.syntax--modifier.syntax--import {
  color: #abb2bf;
}
.syntax--constant {
  color: #d19a66;
}
.syntax--constant.syntax--variable {
  color: #d19a66;
}
.syntax--constant.syntax--character.syntax--escape {
  color: #56b6c2;
}
.syntax--constant.syntax--numeric {
  color: #d19a66;
}
.syntax--constant.syntax--other.syntax--color {
  color: #56b6c2;
}
.syntax--constant.syntax--other.syntax--symbol {
  color: #56b6c2;
}
.syntax--variable {
  color: #e06c75;
}
.syntax--variable.syntax--interpolation {
  color: #be5046;
}
.syntax--variable.syntax--parameter {
  color: #abb2bf;
}
.syntax--string {
  color: #98c379;
}
.syntax--string > .syntax--source,
.syntax--string .syntax--embedded {
  color: #abb2bf;
}
.syntax--string.syntax--regexp {
  color: #56b6c2;
}
.syntax--string.syntax--regexp .syntax--source.syntax--ruby.syntax--embedded {
  color: #e5c07b;
}
.syntax--string.syntax--other.syntax--link {
  color: #e06c75;
}
.syntax--punctuation.syntax--definition.syntax--comment {
  color: #5c6370;
}
.syntax--punctuation.syntax--definition.syntax--method-parameters,
.syntax--punctuation.syntax--definition.syntax--function-parameters,
.syntax--punctuation.syntax--definition.syntax--parameters,
.syntax--punctuation.syntax--definition.syntax--separator,
.syntax--punctuation.syntax--definition.syntax--seperator,
.syntax--punctuation.syntax--definition.syntax--array {
  color: #abb2bf;
}
.syntax--punctuation.syntax--definition.syntax--heading,
.syntax--punctuation.syntax--definition.syntax--identity {
  color: #61afef;
}
.syntax--punctuation.syntax--definition.syntax--bold {
  color: #e5c07b;
  font-weight: bold;
}
.syntax--punctuation.syntax--definition.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--punctuation.syntax--section.syntax--embedded {
  color: #be5046;
}
.syntax--punctuation.syntax--section.syntax--method,
.syntax--punctuation.syntax--section.syntax--class,
.syntax--punctuation.syntax--section.syntax--inner-class {
  color: #abb2bf;
}
.syntax--support.syntax--class {
  color: #e5c07b;
}
.syntax--support.syntax--type {
  color: #56b6c2;
}
.syntax--support.syntax--function {
  color: #56b6c2;
}
.syntax--support.syntax--function.syntax--any-method {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--function {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--class,
.syntax--entity.syntax--name.syntax--type.syntax--class {
  color: #e5c07b;
}
.syntax--entity.syntax--name.syntax--section {
  color: #61afef;
}
.syntax--entity.syntax--name.syntax--tag {
  color: #e06c75;
}
.syntax--entity.syntax--other.syntax--attribute-name {
  color: #d19a66;
}
.syntax--entity.syntax--other.syntax--attribute-name.syntax--id {
  color: #61afef;
}
.syntax--meta.syntax--class {
  color: #e5c07b;
}
.syntax--meta.syntax--class.syntax--body {
  color: #abb2bf;
}
.syntax--meta.syntax--method-call,
.syntax--meta.syntax--method {
  color: #abb2bf;
}
.syntax--meta.syntax--definition.syntax--variable {
  color: #e06c75;
}
.syntax--meta.syntax--link {
  color: #d19a66;
}
.syntax--meta.syntax--require {
  color: #61afef;
}
.syntax--meta.syntax--selector {
  color: #c678dd;
}
.syntax--meta.syntax--separator {
  color: #abb2bf;
}
.syntax--meta.syntax--tag {
  color: #abb2bf;
}
.syntax--underline {
  text-decoration: underline;
}
.syntax--none {
  color: #abb2bf;
}
.syntax--invalid.syntax--deprecated {
  color: #523d14 !important;
  background-color: #e0c285 !important;
}
.syntax--invalid.syntax--illegal {
  color: white !important;
  background-color: #e05252 !important;
}
.syntax--markup.syntax--bold {
  color: #d19a66;
  font-weight: bold;
}
.syntax--markup.syntax--changed {
  color: #c678dd;
}
.syntax--markup.syntax--deleted {
  color: #e06c75;
}
.syntax--markup.syntax--italic {
  color: #c678dd;
  font-style: italic;
}
.syntax--markup.syntax--heading {
  color: #e06c75;
}
.syntax--markup.syntax--heading .syntax--punctuation.syntax--definition.syntax--heading {
  color: #61afef;
}
.syntax--markup.syntax--link {
  color: #56b6c2;
}
.syntax--markup.syntax--inserted {
  color: #98c379;
}
.syntax--markup.syntax--quote {
  color: #d19a66;
}
.syntax--markup.syntax--raw {
  color: #98c379;
}
.syntax--source.syntax--c .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cpp .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--cs .syntax--keyword.syntax--operator {
  color: #c678dd;
}
.syntax--source.syntax--css .syntax--property-name,
.syntax--source.syntax--css .syntax--property-value {
  color: #828997;
}
.syntax--source.syntax--css .syntax--property-name.syntax--support,
.syntax--source.syntax--css .syntax--property-value.syntax--support {
  color: #abb2bf;
}
.syntax--source.syntax--elixir .syntax--source.syntax--embedded.syntax--source {
  color: #abb2bf;
}
.syntax--source.syntax--elixir .syntax--constant.syntax--language,
.syntax--source.syntax--elixir .syntax--constant.syntax--numeric,
.syntax--source.syntax--elixir .syntax--constant.syntax--definition {
  color: #61afef;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--definition,
.syntax--source.syntax--elixir .syntax--variable.syntax--anonymous {
  color: #c678dd;
}
.syntax--source.syntax--elixir .syntax--parameter.syntax--variable.syntax--function {
  color: #d19a66;
  font-style: italic;
}
.syntax--source.syntax--elixir .syntax--quoted {
  color: #98c379;
}
.syntax--source.syntax--elixir .syntax--keyword.syntax--special-method,
.syntax--source.syntax--elixir .syntax--embedded.syntax--section,
.syntax--source.syntax--elixir .syntax--embedded.syntax--source.syntax--empty {
  color: #e06c75;
}
.syntax--source.syntax--elixir .syntax--readwrite.syntax--module .syntax--punctuation {
  color: #e06c75;
}
.syntax--source.syntax--elixir .syntax--regexp.syntax--section,
.syntax--source.syntax--elixir .syntax--regexp.syntax--string {
  color: #be5046;
}
.syntax--source.syntax--elixir .syntax--separator,
.syntax--source.syntax--elixir .syntax--keyword.syntax--operator {
  color: #d19a66;
}
.syntax--source.syntax--elixir .syntax--variable.syntax--constant {
  color: #e5c07b;
}
.syntax--source.syntax--elixir .syntax--array,
.syntax--source.syntax--elixir .syntax--scope,
.syntax--source.syntax--elixir .syntax--section {
  color: #828997;
}
.syntax--source.syntax--gfm .syntax--markup {
  -webkit-font-smoothing: auto;
}
.syntax--source.syntax--gfm .syntax--link .syntax--entity {
  color: #61afef;
}
.syntax--source.syntax--go .syntax--storage.syntax--type.syntax--string {
  color: #c678dd;
}
.syntax--source.syntax--ini .syntax--keyword.syntax--other.syntax--definition.syntax--ini {
  color: #e06c75;
}
.syntax--source.syntax--java .syntax--storage.syntax--modifier.syntax--import {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--storage.syntax--type {
  color: #e5c07b;
}
.syntax--source.syntax--java .syntax--keyword.syntax--operator.syntax--instanceof {
  color: #c678dd;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair {
  color: #e06c75;
}
.syntax--source.syntax--java-properties .syntax--meta.syntax--key-pair > .syntax--punctuation {
  color: #abb2bf;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator {
  color: #56b6c2;
}
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--delete,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--in,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--of,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--instanceof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--new,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--typeof,
.syntax--source.syntax--js .syntax--keyword.syntax--operator.syntax--void {
  color: #c678dd;
}
.syntax--source.syntax--ts .syntax--keyword.syntax--operator {
  color: #56b6c2;
}
.syntax--source.syntax--flow .syntax--keyword.syntax--operator {
  color: #56b6c2;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation.syntax--string {
  color: #e06c75;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--value.syntax--json > .syntax--string.syntax--quoted.syntax--json > .syntax--punctuation {
  color: #98c379;
}
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--dictionary.syntax--json > .syntax--constant.syntax--language.syntax--json,
.syntax--source.syntax--json .syntax--meta.syntax--structure.syntax--array.syntax--json > .syntax--constant.syntax--language.syntax--json {
  color: #56b6c2;
}
.syntax--ng.syntax--interpolation {
  color: #e06c75;
}
.syntax--ng.syntax--interpolation.syntax--begin,
.syntax--ng.syntax--interpolation.syntax--end {
  color: #61afef;
}
.syntax--ng.syntax--interpolation .syntax--function {
  color: #e06c75;
}
.syntax--ng.syntax--interpolation .syntax--function.syntax--begin,
.syntax--ng.syntax--interpolation .syntax--function.syntax--end {
  color: #61afef;
}
.syntax--ng.syntax--interpolation .syntax--bool {
  color: #d19a66;
}
.syntax--ng.syntax--interpolation .syntax--bracket {
  color: #abb2bf;
}
.syntax--ng.syntax--pipe,
.syntax--ng.syntax--operator {
  color: #abb2bf;
}
.syntax--ng.syntax--tag {
  color: #56b6c2;
}
.syntax--ng.syntax--attribute-with-value .syntax--attribute-name {
  color: #e5c07b;
}
.syntax--ng.syntax--attribute-with-value .syntax--string {
  color: #c678dd;
}
.syntax--ng.syntax--attribute-with-value .syntax--string.syntax--begin,
.syntax--ng.syntax--attribute-with-value .syntax--string.syntax--end {
  color: #abb2bf;
}
.syntax--source.syntax--ruby .syntax--constant.syntax--other.syntax--symbol > .syntax--punctuation {
  color: inherit;
}
.syntax--source.syntax--php .syntax--class.syntax--bracket {
  color: #abb2bf;
}
.syntax--source.syntax--python .syntax--keyword.syntax--operator.syntax--logical.syntax--python {
  color: #c678dd;
}
.syntax--source.syntax--python .syntax--variable.syntax--parameter {
  color: #d19a66;
}

/*
 * Your Stylesheet
 *
 * This stylesheet is loaded when Atom starts up and is reloaded automatically
 * when it is changed and saved.
 *
 * Add your own CSS or Less to fully customize Atom.
 * If you are unfamiliar with Less, you can read more about it here:
 * http://lesscss.org
 */
/*
 * Examples
 * (To see them, uncomment and save)
 */
</style>

  </head>
  <body>
    <h1>Lecture 0: Introduction</h1>
<p>COMS E6998 Formal Verification of System Software<br>
Fall 2018<br>
Ronghui Gu</p>
<h2>1 Formal Verification</h2>
<ul>
<li><strong>Goal</strong>: Prove the absence of program errors in a system</li>
</ul>
<h3>1.1 Why should we care?</h3>
<ul>
<li>Software systems run everywhere and even <em>control</em> our lives</li>
<li>We have to trust them but they are not trustworthy due to program errors
<ul>
<li>Toyota’s killer firmware (stack overflow in the assembly module)</li>
<li>
<blockquote>
<p>Software Errors Cost Economy $312 Billion Annually. – Cambridge[2013]</p>
</blockquote>
</li>
<li>$600M lost in 12/2017</li>
<li>TheDao (decentralized autonomous organization) attack (double-spend attack), 3.6M ETH (around $700M) lost</li>
</ul>
<pre class="editor-colors lang-c"><span><span class="syntax--source syntax--c"><span class="syntax--support syntax--storage syntax--type">void</span> <span class="syntax--entity syntax--name syntax--function">withdraw</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">account</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="leading-whitespace">    </span><span class="syntax--support syntax--storage syntax--type">uint</span> balance <span class="syntax--keyword syntax--operator">=</span> bank<span class="syntax--keyword syntax--operator syntax--member">.</span><span class="syntax--variable syntax--other syntax--member">balance</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--square">[</span>account<span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--square">]</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>balance <span class="syntax--keyword syntax--operator">&lt;=</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="leading-whitespace">      </span><span class="syntax--keyword syntax--control">return</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="leading-whitespace">    </span>bank<span class="syntax--keyword syntax--operator syntax--member">.</span><span class="syntax--variable syntax--other syntax--member">fund</span> <span class="syntax--keyword syntax--operator">-=</span> balance<span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="leading-whitespace">    </span><span class="syntax--entity syntax--name syntax--function">receiverHandlePayment</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>account<span class="syntax--punctuation syntax--separator syntax--delimiter">,</span> balance<span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="leading-whitespace">    </span>bank<span class="syntax--keyword syntax--operator syntax--member">.</span><span class="syntax--variable syntax--other syntax--member">balance</span><span class="syntax--punctuation syntax--definition syntax--begin syntax--bracket syntax--square">[</span>account<span class="syntax--punctuation syntax--definition syntax--end syntax--bracket syntax--square">]</span> <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--c"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
</li>
</ul>
<h3>1.2 Challenges</h3>
<ul>
<li>Goal: prove (or verify) the <strong>absence</strong> of program errors</li>
<li>Easy? NO!
<ul>
<li>Finite code often has an infinite set of behaviors:<br>
<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">sort (int* a)</code><br>
Infinite number of a-inputs and outputs</li>
<li>What does it even mean for <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">sort</code> to be correct?</li>
</ul>
</li>
<li>A number of ways to approach the problem</li>
</ul>
<h2>2. Methods to Approach the Goal</h2>
<h3>2.1 Testing?</h3>
<ul>
<li>Can we use testing to prove correctness/incorrectness?</li>
<li>No! Need an infinite test set</li>
</ul>
<blockquote>
<p>Program testing can be used to show the presence of bugs, but never to show their absence. – Edsger Dijkstra</p>
</blockquote>
<h3>2.2 An alternative approach: formal verification …</h3>
<ul>
<li>Formal verification is an act of proving/disproving the correctness of systems HW/SW.</li>
<li>Correctness: means with respect to the specification/intention</li>
<li>Techniques for improving <strong>safety</strong> and <strong>security</strong> of computer systems
<ul>
<li>Applicable to both software and hardware</li>
<li>We focus on <strong>software</strong></li>
</ul>
</li>
</ul>
<h4>2.2.1 Algorithmic Verification?</h4>
<ul>
<li>Can we come up with an <strong>algorithm</strong> to prove correctness/incorrectness for any program <strong>automatically</strong>?</li>
<li>Create a program av that inputs another program p and <strong>after finite time</strong> outputs false if p has a bug for some input, or true otherwise.</li>
</ul>
<pre class="editor-colors lang-c++"><span><span class="leading-whitespace">  </span><span class="syntax--source syntax--cpp"><span class="syntax--support syntax--storage syntax--type">bool</span> <span class="syntax--entity syntax--name syntax--function">av</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">program</span> p<span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>p has bugs<span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">      </span><span class="syntax--keyword syntax--control">return</span> <span class="syntax--constant syntax--language syntax--boolean">false</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">return</span> <span class="syntax--constant syntax--language syntax--boolean">true</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
<ul>
<li>
<p>NO! Because of the halting problem [Alan Turing 1936]: if <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">av</code> exists then there is a paradox; thus <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">av</code> can’t exist.</p>
</li>
<li>
<p>Proof.<br>
Let “bug”=infinite loop=<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">infloop()</code>. If <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">p</code> is a program then let <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">'p(p)</code> be the program that when run, it will execute <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">p</code> on input <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">p</code>.
Assume <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">av</code> exists. Create:<br>
<code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">paradox(p:Prog) = if av(’p(p)) then infloop() else true</code><br>
What does <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">paradox(paradox)</code> do?</p>
<ol>
<li>If <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">paradox(paradox)</code> loops forever then <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">av(’paradox(paradox))=false</code>, thus <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">paradox(paradox)</code> returns true. Contradiction</li>
<li>If <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">paradox(paradox)</code> returns true, i.e., <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">av(’paradox(paradox))=true</code>, thus <code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">paradox(paradox)</code> loops forever. Contradiction</li>
</ol>
</li>
<li>
<p>A <strong>non-constructive proof</strong></p>
</li>
<li>
<p><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">3n+1</code> conjecture:</p>
<pre class="editor-colors lang-c++"><span><span class="leading-whitespace">  </span><span class="syntax--source syntax--cpp"><span class="syntax--support syntax--storage syntax--type">void</span> <span class="syntax--entity syntax--name syntax--function">collatz</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">int</span> i<span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--keyword syntax--control">while</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>i <span class="syntax--keyword syntax--operator">&gt;</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">      </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>i is even<span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">        </span>i <span class="syntax--keyword syntax--operator">=</span> i <span class="syntax--keyword syntax--operator">/</span> <span class="syntax--constant syntax--numeric syntax--decimal">2</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">      </span><span class="syntax--keyword syntax--control">else</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">        </span>i <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">3</span> <span class="syntax--keyword syntax--operator">*</span> i <span class="syntax--keyword syntax--operator">+</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
</li>
</ul>
<h4>2.2.2 Deductive Verification?</h4>
<ul>
<li>
<p>Can we have a <strong>mathematical proof system</strong> to prove correctness/incorrectness for all programs?</p>
</li>
<li>
<p>Can we create a system L of logical axioms and rules, such that for any program p we can prove either</p>
<ul>
<li>p has a bug for some input</li>
<li>p has no bug for any input</li>
</ul>
</li>
<li>
<p><strong>NO!</strong> If such a system L exists then we can create a fully automatic verification algorithm (simply systematically explore all logical derivations and eventually, in finite time, derive “p has a bug” or “p has no bug”.)</p>
</li>
<li>
<p>Hilbert’s program in early 1920s</p>
<ul>
<li>A formulation of all mathematics; in other words all mathematical statements should be written in a precise formal language, and manipulated according to well defined rules.</li>
<li><strong>Completeness</strong>: a proof that all true mathematical statements can be proved in the formalism.</li>
<li><strong>Consistency</strong>: a proof that no contradiction can be obtained in the formalism of mathematics.</li>
<li><strong>Decidability</strong>: there should be an algorithm for deciding the truth or falsity of any mathematical statement.</li>
<li>…</li>
</ul>
</li>
<li>
<p><strong>NO!</strong> Kurt Gödel proved in 1931 （incompleteness theorems）that no such logical system exists.</p>
<blockquote>
<p>“Any <strong>consistent</strong> formal system F within which a certain amount of elementary arithmetic can be carried out is incomplete; i.e., there are statements of the language of F which can neither be proved nor disproved in F.”</p>
</blockquote>
</li>
</ul>
<h2>3. Holy Grail of Formal Verification</h2>
<p><strong>Soundness</strong>:  If the verification method reports no failure, then the program under examination has no bug
<strong>Completeness</strong>:   If the verification method reports a failure, then the program under examination has a bug
<strong>Termination</strong>: The verification method will terminate, giving back an answer.</p>
<ul>
<li>Pick TWO. Having all three is theoretically impossible.</li>
<li>Usually, algorithmic verification systems pick soundness and completeness, while deductive verification systems pick soundness and termination.</li>
</ul>
<h2>4. Methods for Formal Verification</h2>
<p><em>However not all is lost!</em> Sound and terminating systems can prove the correctness of virtually every program we would care about.</p>
<p>The scientific community continuously pushes the limits of these systems to extreme levels!</p>
<h3>4.1 <strong>Algorithmic verification</strong></h3>
<ul>
<li>create a model of the program in a <em>decidable framework</em> (finite state system, pushdown system)</li>
<li>usually: semi-automatic (semi-manual) model creation</li>
<li>automated model verification</li>
</ul>
<h4>4.1.1 Model Checking</h4>
<p>A model checker is a program that checks if
a (transition) system satisfies a (temporal)
property.</p>
<pre class="editor-colors lang-c++"><span><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">10</span>: <span class="syntax--keyword syntax--control">while</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--constant syntax--language syntax--boolean">true</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">11</span>:   <span class="syntax--entity syntax--name syntax--function">wait</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>turn <span class="syntax--keyword syntax--operator">==</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">      </span><span class="syntax--comment syntax--block">// critical section critical section</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">12</span>:   <span class="syntax--entity syntax--name syntax--function">work</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span> turn <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">13</span>: <span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--comment syntax--block">// concurrently with</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">20</span>: <span class="syntax--keyword syntax--control">while</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--constant syntax--language syntax--boolean">true</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">21</span>:   <span class="syntax--entity syntax--name syntax--function">wait</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>turn <span class="syntax--keyword syntax--operator">==</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">      </span><span class="syntax--comment syntax--block">// critical section critical section</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">22</span>:   <span class="syntax--entity syntax--name syntax--function">work</span><span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span> turn <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--constant syntax--numeric syntax--decimal">23</span>: <span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
<ul>
<li>Example property: in all the reachable states (configurations)
of the system, the two processes are <em>never in
the critical section at the same time</em>.
<ul>
<li>(Finite State) Program</li>
<li>State Transition Graph</li>
<li>Reachability</li>
</ul>
</li>
<li>State exploration problem</li>
</ul>
<h4>4.1.2 Symbolic Execution</h4>
<p>Evaluate the program on symbolic input values and use an automated theorem prover to check whether
there are corresponding concrete input values that
make the program fail.</p>
<pre class="editor-colors lang-c++"><span><span class="syntax--source syntax--cpp"><span class="syntax--entity syntax--name syntax--function">foo</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>x <span class="syntax--keyword syntax--operator">&gt;</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> x <span class="syntax--keyword syntax--operator">+</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">else</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span> <span class="syntax--keyword syntax--operator">-</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">8</span> <span class="syntax--keyword syntax--operator">/</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
<ul>
<li>True branch:
<ul>
<li><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">x0 &gt; 0</code></li>
<li><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">x1 = x0 + 1</code></li>
<li><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">x1 = 0</code></li>
</ul>
</li>
<li>False branch:
<ul>
<li><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">x0 &lt;= 0</code></li>
<li><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">x1 = 1 - x0</code></li>
<li><code style="font-family: Menlo, Consolas, &quot;DejaVu Sans Mono&quot;, monospace;">x1 = 0</code></li>
</ul>
</li>
<li>Satisfiability Modulo Theories (SMT) solver, e.g., Z3</li>
</ul>
<h4>4.1.3 Abstract Interpretation</h4>
<ul>
<li>A theory of sound approximation of the semantics of computer programs.</li>
<li>It can be viewed as a partial execution of a computer program which gains information about its semantics  without performing all the calculations.</li>
</ul>
<pre class="editor-colors lang-c++"><span><span class="syntax--source syntax--cpp"><span class="syntax--entity syntax--name syntax--function">foo</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--comment syntax--block">// x:(-$, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>x <span class="syntax--keyword syntax--operator">&gt;</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--comment syntax--block">// x:(0, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> x <span class="syntax--keyword syntax--operator">+</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:(1, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">else</span> <span class="syntax--comment syntax--block">// x:(-$, 0]</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span> <span class="syntax--keyword syntax--operator">-</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:[1, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">8</span> <span class="syntax--keyword syntax--operator">/</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:[1, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
<ul>
<li>What if the program is as below?</li>
</ul>
<pre class="editor-colors lang-c++"><span><span class="syntax--source syntax--cpp"><span class="syntax--entity syntax--name syntax--function">foo</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--comment syntax--block">// x:(-$, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>x <span class="syntax--keyword syntax--operator">&gt;</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--comment syntax--block">// x:(0, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">2</span> <span class="syntax--keyword syntax--operator">*</span> x <span class="syntax--keyword syntax--operator">+</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:(1, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">else</span> <span class="syntax--comment syntax--block">// x:(-$, 0]</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span> <span class="syntax--keyword syntax--operator">-</span> <span class="syntax--constant syntax--numeric syntax--decimal">2</span> <span class="syntax--keyword syntax--operator">*</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:[1, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">8</span> <span class="syntax--keyword syntax--operator">/</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>x <span class="syntax--keyword syntax--operator">%</span> <span class="syntax--constant syntax--numeric syntax--decimal">2</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:[1, +$)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
<ul>
<li>A better approximation:</li>
</ul>
<pre class="editor-colors lang-c++"><span><span class="syntax--source syntax--cpp"><span class="syntax--entity syntax--name syntax--function">foo</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span> <span class="syntax--comment syntax--block">// x:(-$, +$), x%2: {0, 1}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>x <span class="syntax--keyword syntax--operator">&gt;</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--comment syntax--block">// x:(0, +$), x%2: {0, 1}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">2</span> <span class="syntax--keyword syntax--operator">*</span> x <span class="syntax--keyword syntax--operator">+</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:(1, +$), x%2: {1}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">else</span> <span class="syntax--comment syntax--block">// x:(-$, 0], x%2: {0, 1}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span> <span class="syntax--keyword syntax--operator">-</span> <span class="syntax--constant syntax--numeric syntax--decimal">2</span> <span class="syntax--keyword syntax--operator">*</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:[1, +$), x%2: {1}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">8</span> <span class="syntax--keyword syntax--operator">/</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>x <span class="syntax--keyword syntax--operator">%</span> <span class="syntax--constant syntax--numeric syntax--decimal">2</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span> <span class="syntax--comment syntax--block">// x:[1, +$), x%2: {1}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
<ul>
<li>model checking, symbolic execution, abstract interpretation
<ul>
<li>create a model of the program in a <em>decidable framework</em> (finite state system, pushdown system)</li>
<li>usually: semi-automatic (semi-manual) model creation</li>
<li>automated model verification</li>
</ul>
</li>
</ul>
<h3>4.2 <strong>Deductive verification</strong></h3>
<ul>
<li>create a correctness proof of the program in a logic (with axioms and logical rules)</li>
<li>usually: semi-automatic (semi-manual) specification construction and proof construction</li>
<li>automated proof checking</li>
</ul>
<h4>4.2.1 Hoare Logic</h4>
<p><strong>Weakening Rule</strong></p>
<span class="math"><script type="math/tex; mode=display">\frac{P\rightarrow P'\quad \{P'\}\ C\ \{Q'\}\quad Q\rightarrow Q'}
{\{P\}\ C\ \{Q\}}\text{WEAK}
</script></span>
<p><strong>Assignment Rule</strong></p>
<span class="math"><script type="math/tex; mode=display">\frac{}
{\{A[E/x]\}\ x:=E\ \{A\}}\text{ASG}
</script></span>
<p><strong>Sequential Rule</strong></p>
<span class="math"><script type="math/tex; mode=display">\frac{\{P\}\ C_1\ \{A\} \quad \{A\}\ C_2\ \{Q\}}
{\{P\}\ C_1; C_2\ \{Q\}}\text{SEQ}
</script></span>
<p><strong>Conditional Branch Rule</strong></p>
<span class="math"><script type="math/tex; mode=display">\frac{\{P \wedge B\}\ C_1\ \{Q\} \quad \{P \wedge \neg B\}\ C_2\ \{Q\}}
{\{P\}\ \textbf{if } B \textbf{ then } C_1 \textbf{ else } C_2\ \{Q\}}\text{IF}
</script></span>
<p><strong>Partial Correctness of Loops Rule</strong></p>
<span class="math"><script type="math/tex; mode=display">\frac{\{I \wedge B\}\ C\ \{I\}}
{\{I\}\ \textbf{while } B\ C\ \{I \wedge \neg B\}}\text{While}
</script></span>
<pre class="editor-colors lang-c++"><span><span class="syntax--source syntax--cpp"><span class="syntax--comment syntax--block">// { T }                  (PRE)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--entity syntax--name syntax--function">foo</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span><span class="syntax--support syntax--storage syntax--type">x</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">if</span> <span class="syntax--punctuation syntax--section syntax--parens syntax--begin syntax--bracket syntax--round">(</span>x <span class="syntax--keyword syntax--operator">&gt;</span> <span class="syntax--constant syntax--numeric syntax--decimal">0</span><span class="syntax--punctuation syntax--section syntax--parens syntax--end syntax--bracket syntax--round">)</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--comment syntax--block">// { T ∧ x &gt; 0 }     (IF)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--comment syntax--block">// { x + 1 &gt; 1 }      (WEAK)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> x <span class="syntax--keyword syntax--operator">+</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span><span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--comment syntax--block">// { x &gt; 1 }          (ASG)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--comment syntax--block">// { x &gt;= 1 }         (WEAK)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--keyword syntax--control">else</span> <span class="syntax--punctuation syntax--section syntax--block syntax--begin syntax--bracket syntax--curly">{</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--comment syntax--block">// { T ∧ ~(x &gt; 0) }  (IF)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--comment syntax--block">// { 1 - x &gt;= 1 }     (WEAK)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">1</span> <span class="syntax--keyword syntax--operator">-</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">    </span><span class="syntax--comment syntax--block">// { x &gt;= 1 }         (ASG)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span><span class="syntax--comment syntax--block">// { x &gt;= 1 }           (IF)</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="leading-whitespace">  </span>x <span class="syntax--keyword syntax--operator">=</span> <span class="syntax--constant syntax--numeric syntax--decimal">8</span> <span class="syntax--keyword syntax--operator">/</span> x<span class="syntax--punctuation syntax--terminator syntax--statement">;</span></span></span>
<span class=""><span class="syntax--source syntax--cpp"><span class="syntax--punctuation syntax--section syntax--block syntax--end syntax--bracket syntax--curly">}</span></span></span></pre>
<h3>4.3 Success stories from the mid-1990s</h3>
<ul>
<li>Paris metro line 14 (1998, combination)</li>
<li>Flight control software of A380 (2005, abstract interpretation)</li>
<li>seL4. verified sequential micro-kernel (2009, separation logic)</li>
<li>CompCert, a verified C compiler (2005 ~ present, simulation, Coq)</li>
<li>MS windows drivers (2010, model checking)</li>
<li>FSCQ, a verified file system, (2015, program logic, Coq)</li>
<li>CertiKOS, a verified concurrent OS kernel (2016 ~ present, simulation, Coq)</li>
<li>Push-button verification, (2016, symbolic execution)</li>
</ul>

  </body>
</html>
